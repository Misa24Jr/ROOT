<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="ISO-8859-1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="shortcut icon" href="images_portal/insiemp.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="js_portal/com/Flexivity.js"></script>
    <script src="js_portal/com/Hero.js"></script>
    <script src="js_portal/app/portal/bodyConfig.js"></script>
    <script src="js_portal/app/portal/Soporte.js"></script>

    <title>Soporte</title>
  </head>

  <body>
    <script>
      flex.init = () => {
        const {Card, NavBar, Hero, Footer, Document} = flex;
        const setCardProperties = (id) => {
          return {
            id,
            idxElement: 0,
            cssClass: {
              width: '100%',
              margin: 'unset',
            }
          }
        }
        const documentContainers = new Document(); //contenedores
        const navBar = new NavBar(navBarConfig);
        const footer = new Footer(footerConfig);
        const hero = new Hero({
          id: 'hero',
          fullHeight: false,
          title: '',
          subTitle: '\n\n\nATENCIÓN AL CLIENTE:'
              +'\nLunes - Viernes 08:00am a 12:00pm / 01:00pm a 05:00pm'
              +'\n+58(414)687-6440 / +58(414)662-9838',
          //imgSrc : 'images_portal/propuesta.jpg'
        });
        let contactsConfig = footerConfig;
        contactsConfig.id = 'contact'; 
        const contacts = new flex.Footer(contactsConfig);
        const closeContacts = new flex.ControlButton({
          id: 'closecontact',
          idxElement: 0,
          backgroundColor1: 'white',
          cssClass:{
            position: 'absolute',
            top: '10px'
          },
          typeButton: 'close',
          hint: 'cerrar'
        });
        const cardmanual001 = new Card(setCardProperties('cuadromanual001')); 
        const cardmanual002 = new Card(setCardProperties('cuadromanual002')); 
        const cardmanual003 = new Card(setCardProperties('cuadromanual003')); 
        const cardmanual004 = new Card(setCardProperties('cuadromanual004')); 
        const cardmanual005 = new Card(setCardProperties('cuadromanual005')); 
        const cardmanual006 = new Card(setCardProperties('cuadromanual006')); 
	
        cardmanual001.addSection(cuadromanual001);
        cardmanual002.addSection(cuadromanual002);
        cardmanual003.addSection(cuadromanual003);
        cardmanual004.addSection(cuadromanual004);
        cardmanual005.addSection(cuadromanual005);
        cardmanual006.addSection(cuadromanual006);

        footer._allBuilt = () => {
          navBar.setActualSection('soporte');
          closeContacts.setPosition('95%')
          contacts.getPanel().style.backgroundColor = 'rgba(0,0,0,0.8)';
          navBar.getSection('contactos').addEventListener('click',e=>{
            if(contacts.getPanel().getBoundingClientRect().top === innerHeight - contacts.getPanel().getBoundingClientRect().height){
              closeContacts.getPanel().click();
            } else{
              contacts.getPanel().style.display = 'block';
              contacts.getPanel().style.top = innerHeight +'px';
              contacts.getPanel().style.transition = 'top ease-in 0.3s';
              contacts.getPanel().style.top = innerHeight - contacts.getPanel().getBoundingClientRect().height +'px';
            }
          });
          closeContacts.onClick(()=>{
            contacts.getPanel().style.top = innerHeight + 'px';
          });
          contacts.getPanel().addEventListener('transitionend',e=>{
            if(contacts.getPanel().getBoundingClientRect().top == innerHeight - contacts.getPanel().getBoundingClientRect().height) console.log(e);
          })
          contacts.getPanel().style.position = 'fixed';
          contacts.getPanel().appendChild(closeContacts.getPanel());
          
          navBar.addToBody();
          hero.addToBody();
          documentContainers
          .createLayout({
              type: 'simpleGrid', //contenedor grid sencillo para las cards
              title: 'MANUALES',
              id: 'CoordinacionesCardContainer', //id del contenedor
              addToBody: true,
              elements: [
              cardmanual001.getPanel(),
              cardmanual002.getPanel(),
              cardmanual003.getPanel(),
              cardmanual004.getPanel(),
              cardmanual005.getPanel(),
              cardmanual006.getPanel(),
              ]
            })
          footer.addToBody();
          contacts.addToBody();
        }
      }
    </script>
  </body>
</html>
