<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="ISO-8859-1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="shortcut icon" href="images_portal/insiemp.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="js_portal/com/Flexivity.js"></script>
    <script src="js_portal/app/portal/bodyConfig.js"></script>
    <script src="js_portal/app/portal/Calendario.js"></script>

    <title>Calendario</title>
  </head>

  <body>
    <script>
      flex.init = () => {
        const {Card, NavBar, Hero, Footer, Document} = flex;
        const setCardProperties = (id) => {
          return {
            id,
            idxElement: 0,
            cssClass: {
              width: '100%',
              margin: 'unset',
            }
          }
        }
        const documentContainers = new Document(); //contenedores
        const navBar = new NavBar(navBarConfig);
        const footer = new Footer(footerConfig);
        const hero = new Hero({
          id: 'hero',
          fullHeight: true,
          //title: '',
          //subTitle: '',
          //imgSrc : ''
        });
        let contactsConfig = footerConfig;
        contactsConfig.id = 'contact'; 
        const contacts = new flex.Footer(contactsConfig);
        const closeContacts = new flex.ControlButton({
          id: 'closecontact',
          idxElement: 0,
          backgroundColor1: 'white',
          cssClass:{
            position: 'absolute',
            top: '10px'
          },
          typeButton: 'close',
          hint: 'cerrar'
        });
        const cardHistoria = new Card(setCardProperties('resumenHistorico'));
        cardHistoria.addSection(historia);

        footer._allBuilt = () => {
          cardHistoria.getPanel().style.margin = '70px auto';
          navBar.setActualSection('conocenos');
          closeContacts.setPosition('95%')
          contacts.getPanel().style.backgroundColor = 'rgba(0,0,0,0.8)';
          navBar.getSection('contactos').addEventListener('click',e=>{
            if(contacts.getPanel().getBoundingClientRect().top === innerHeight - contacts.getPanel().getBoundingClientRect().height){
              closeContacts.getPanel().click();
            } else{
              contacts.getPanel().style.display = 'block';
              contacts.getPanel().style.top = innerHeight +'px';
              contacts.getPanel().style.transition = 'top ease-in 0.3s';
              contacts.getPanel().style.top = innerHeight - contacts.getPanel().getBoundingClientRect().height +'px';
            }
          });
          closeContacts.onClick(()=>{
            contacts.getPanel().style.top = innerHeight + 'px';
          });
          contacts.getPanel().addEventListener('transitionend',e=>{
            if(contacts.getPanel().getBoundingClientRect().top == innerHeight - contacts.getPanel().getBoundingClientRect().height) console.log(e);
          })
          contacts.getPanel().style.position = 'fixed';
          contacts.getPanel().appendChild(closeContacts.getPanel());
          cardHistoria.setDimension('95%');  
          
          navBar.addToBody();
          cardHistoria.addToBody();
          documentContainers
          footer.addToBody();
          contacts.addToBody();
        }
      }
    </script>
  </body>

</html>
