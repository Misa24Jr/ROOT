<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="ISO-8859-1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="shortcut icon" href="images_portal/insiemp.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script language="JavaScript" type="text/javascript" src="js/com/LoadCss.js"></script>
    <script src="js_portal/com/Flexivity.js"></script>
    <script src="js_portal/app/portal/bodyConfig.js"></script>
    <script src="js_portal/app/portal/noticias.js"></script>
    <title>EDUC@</title>
  </head>

  <body>
    <script>
      flex.init = () => {
        const {NavBar, Hero, Footer, Slider, Card} = flex;

        const navBar = new NavBar(navBarConfig);
        const documentContainers = new Document();
        const footer = new Footer(footerConfig);
        const hero = new Hero({
          id: 'hero',
          idxElement: 0,
          title: '',
          subTitle: '',
          imgSrc : 'images/logo/bienvenido.jpg'
        });
        const slider = new Slider({
          id: 'slider',
          idxElement: 0,
          _built: () => {
            slider.setDimension('100vw', '88vh');
            slider.createSlider(sliderConfig);
          }
        });
        const contactsConfig = footerConfig;
        contactsConfig.id = 'contact'; 
        const contacts = new Footer(contactsConfig);
        const closeContacts = new flex.ControlButton({
          id: 'closecontact',
          idxElement: 0,
          backgroundColor1: 'white',
          cssClass:{
            position: 'absolute',
            top: '10px'
          },
          typeButton: 'close',
          hint: 'cerrar'
        });

        footer._allBuilt = () => {
				  navBar.setActualSection('inicio');
          contacts.getPanel().style.backgroundColor = 'rgba(0,0,0,0.8)';
          closeContacts.setPosition('95%')
          navBar.getSection('contactos').addEventListener('click',e=>{
            if(contacts.getPanel().getBoundingClientRect().top === innerHeight - contacts.getPanel().getBoundingClientRect().height){
              closeContacts.getPanel().click();
            } else{
              contacts.getPanel().style.display = 'block';
              contacts.getPanel().style.top = innerHeight +'px';
              contacts.getPanel().style.transition = 'top ease-in 0.3s';
              contacts.getPanel().style.top = innerHeight - contacts.getPanel().getBoundingClientRect().height +'px';
            }
          });
          closeContacts.onClick(()=>{
            contacts.getPanel().style.top = innerHeight + 'px';
          });
          contacts.getPanel().addEventListener('transitionend',e=>{
            if(contacts.getPanel().getBoundingClientRect().top == innerHeight - contacts.getPanel().getBoundingClientRect().height) console.log(e);
          });
          contacts.getPanel().style.position = 'fixed';
          contacts.getPanel().appendChild(closeContacts.getPanel());          
          navBar.addToBody();          
          slider.addToBody();                    
          hero.addToBody();
          footer.addToBody();
          contacts.addToBody();
        }
      }
    </script>
  </body>

</html>
